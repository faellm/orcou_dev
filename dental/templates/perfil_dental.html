{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{% static "style/perfil_dental.css" %}">
    <style>
        /* From Uiverse.io by revanth-004 */ 
        /* COMMON STYLES*/
        .popup {
        margin: 10px;
        box-shadow: 4px 4px 10px -10px rgba(0, 0, 0, 1);
        width: 300px;
        justify-content: space-around;
        align-items: center;
        display: flex;
        border-radius: 4px;
        padding: 5px 0;
        font-weight: 300;
        }
        .popup svg {
        width: 1.25rem;
        height: 1.25rem;
        }
        .popup-icon svg {
        margin: 5px;
        display: flex;
        align-items: center;
        }
        .close-icon {
        margin-left: auto;
        }
        .close-svg {
        cursor: pointer;
        }
        .close-path {
        fill: grey;
        }

        /*SEPERATE STYLES*/

        /* SUCCESS */
        .success-popup {
        background-color: #edfbd8;
        border: solid 1px #84d65a;
        }
        .success-icon path {
        fill: #84d65a;
        }
        .success-message {
        color: #2b641e;
        }

        /* ALERT */
        .alert-popup {
        background-color: #fefce8;
        border: solid 1px #facc15;
        }
        .alert-icon path {
        fill: #facc15;
        }
        .alert-message {
        color: #ca8a04;
        }

        /* ERROR */

        .error-popup {
        background-color: #fef2f2;
        border: solid 1px #f87171;
        }
        .error-icon path {
        fill: #f87171;
        }
        .error-message {
        color: #991b1b;
        }

        /* INFO */

        .info-popup {
        background-color: #eff6ff;
        border: solid 1px #1d4ed8;
        }
        .info-icon path {
        fill: #1d4ed8;
        }
        .info-message {
        color: #1d4ed8;
        }

    </style>
    <title>ORÇOU</title>
</head>

<body>
    <!-- inicio Navabar -->
    <header>
        <div class="containe">
            <img class="logo" src="{% static "img/LogoRecorte.png" %}" alt="">
            <div>
                <nav>
                    <a href="#">Home (Perfil)</a>
                    <a href="#" style="color: #5F1BE3;">Dashboard</a>
                    <a href="#"></a>
                    <a href="#" style="color: #5F1BE3;"></a>
                    <a href="#"></a>
                </nav>
                <div class="bt">
                    <a href="#" class="button1" style="background-color: #96949B;">Dental</a>
                </div>
            </div>
        </div>
    </header>
    <!-- fim Navabar -->

    <!-- inicio do main/corpo -->
    <main>

        <!-- inicio do PerfilDental -->
        <section class="hero-section">
            <h1 style="color: #5F1BE3;">Perfil Dental</h1>

            <div class="card-dados">
                <article class="card1">
                    <div class="flex-lts mb-2">
                        <strong>Dados</strong>
                        <a href="#" class="buttonC" style="background-color: #5F1BE3;">Editar</a>
                    </div>

                    <div class="flex-ns">
                        <div class="dd">
                            <div class="flex-ns">
                                <div class="dado">
                                    <label class="cp">Empresa:</label>
                                    <label>{{dental.nome_empresa}}</label>
                                </div>
                                <div class="dado">
                                    <label class="cp">CNPJ:</label>
                                    <label>{{dental.cnpj}}</label>
                                </div>
                                <div class="dado">
                                    <label class="cp">CEP:</label>
                                    <label>{{dental.cep}}</label>
                                </div>
                            </div>
                            <div class="flex-ns">
                                <div class="dado">
                                    <label class="cp">Endereço:</label>
                                    <label>{{dental.end}}</label>
                                </div>
                                <div class="dado">
                                    <label class="cp">Nº:</label>
                                    <label>{{dental.num}}</label>
                                </div>
                                <div class="dado">
                                    <label class="cp">Bairro:</label>
                                    <label>{{dental.bairro}}</label>
                                </div>
                                <div class="dado">
                                    <label class="cp">Cidade:</label>
                                    <label>{{dental.cidade}}</label>
                                </div>
                                <div class="dado">
                                    <label class="cp">UF:</label>
                                    <label>RJ</label>
                                </div>
                            </div>
                        </div>
                        <div class="dd">
                            <div class="dado">
                                <label class="cp">Telefone:</label>
                                <label>{{dental.contato}}</label>
                            </div>
                            <div class="dado">
                                <label class="cp">Email:</label>
                                <label>{{dental.email}}</label>
                            </div>
                            <div class="dado">
                                <label class="cp">Status:</label>
                                <label>{{dental.is_active}}</label>
                            </div>
                        </div>
                    </div>

                </article>
            </div>

        </section>
        <!-- fim do PerfilDental -->
        {% comment %} ALERTAS DE CRIAR PRODUTOS {% endcomment %}
        
        <div class="popup-container">
            {% if message == 'sucesso' %}
                <div class="popup success-popup">
                    <div class="popup-icon success-icon">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            class="success-svg"
                        >
                            <path
                            fill-rule="evenodd"
                            d="m12 1c-6.075 0-11 4.925-11 11s4.925 11 11 11 11-4.925 11-11-4.925-11-11-11zm4.768 9.14c.0878-.1004.1546-.21726.1966-.34383.0419-.12657.0581-.26026.0477-.39319-.0105-.13293-.0475-.26242-.1087-.38085-.0613-.11844-.1456-.22342-.2481-.30879-.1024-.08536-.2209-.14938-.3484-.18828s-.2616-.0519-.3942-.03823c-.1327.01366-.2612.05372-.3782.1178-.1169.06409-.2198.15091-.3027.25537l-4.3 5.159-2.225-2.226c-.1886-.1822-.4412-.283-.7034-.2807s-.51301.1075-.69842.2929-.29058.4362-.29285.6984c-.00228.2622.09851.5148.28067.7034l3 3c.0983.0982.2159.1748.3454.2251.1295.0502.2681.0729.4069.0665.1387-.0063.2747-.0414.3991-.1032.1244-.0617.2347-.1487.3236-.2554z"
                            clip-rule="evenodd"
                            ></path>
                        </svg>
                    </div>
                    <div class="success-message">Produto cadastrado com sucesso!</div>
                    <div class="popup-icon close-icon">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 20 20"
                        aria-hidden="true"
                        class="close-svg"
                    >
                        <path
                        d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z"
                        class="close-path"
                        ></path>
                    </svg>
                    </div>
                </div>
            {% elif  message == 'erro' %}
                <div class="popup error-popup">
                    <div class="popup-icon error-icon">
                    <svg
                        class="error-svg"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 20 20"
                        aria-hidden="true"
                    >
                        <path
                        fill-rule="evenodd"
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                        clip-rule="evenodd"
                        ></path>
                    </svg>
                    </div>
                    <div class="error-message">lorem ipsum dolor sit amet</div>
                    <div class="popup-icon close-icon">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 20 20"
                        class="close-svg"
                    >
                        <path
                        d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z"
                        class="close-path"
                        ></path>
                    </svg>
                    </div>
                </div>
            {% endif %}
        </div>

        <!-- inicio do Produtos -->
        <section style="background-color: var(--color-white); padding-bottom: 50px;">
            <div class="card2">
                <div class="flex-lts mb-2">
                    <strong>Dados</strong>
                    <!-- Botão fora do modal que abre o modal -->
                    <button id="openModalBtn" class="buttonC" style="background-color: #5F1BE3;">+Add Produto</button>
                </div>
                {% if dental.is_active == True %}
                <!-- Estrutura do Modal -->
                <div id="myModal" class="modal">
                    <!-- Conteúdo do Modal -->
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        
                        <article class="card3">
                                <div class="flex-lts mb-2">
                                    <strong>Adicionar Produto</strong>
                                </div>
                            <form method="POST" enctype="multipart/form-data" action="{% url 'criar_produto' user_id=dental.id %}">
                                {% csrf_token %}
                                <div style="display: flex; align-items: center; flex-direction: column;">
                                    <div class="form">
                                        <div class="">
                                            <label for="file" class="labelFile">
                                                <span>
                                                    <svg xml:space="preserve" viewBox="0 0 184.69 184.69"
                                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                                        xmlns="http://www.w3.org/2000/svg" id="Capa_1" version="1.1"
                                                        width="60px" height="60px">
                                                    </svg>
                                                </span>
                                                <p>+Adicionar Foto</p>
                                            </label>
                                            <input class="input2" name="text" id="file" type="file" />
                                        </div>
                                        <div class="">
                                            <div class="flex">
                                                <label class="cp flex-inl">Nome produto:</label>
                                                <input class="input" name="nameprod" placeholder="" type="text">
                                            </div>
                                            <div class="flex">
                                                <div>
                                                    <div class="flex2 mb-1">
                                                        <label class="cp">Validade:</label>
                                                        <input class="input3" name="validade" placeholder="" type="text">
                                                    </div>
                                                    <div class="flex2 mb-1">
                                                        <label class="cp">Estoque:</label>
                                                        <input class="input3" name="estoque" placeholder="" type="number">
                                                    </div>
                                                    <div class="flex2 mb-1">
                                                        <label class="cp">Preço:</label>
                                                        <input class="input3" name="preco" placeholder="" type="text">
                                                    </div>
                                                </div>
                                                <div>
                                                    <label class="cp txtbox">Descrição</label>
                                                    <textarea id="txtbox" name="desc" rows="4" cols="50"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Use button instead of a link to submit the form -->
                                    <button type="submit" class="buttonC mt-1" style="max-width: 400px; width: 100%;background-color: #5F1BE3;">
                                        Concluído
                                    </button>
                                </div>
                            </form>                            
                        </article>
                    </div>
                </div>
                {% endif %}
                <!-- fim modal -->
            </div>

        {% for i in produto%}
            <!-- card do produto em si -->
            <div class="mt-1 mb-1">
                <div class=" mx-auto card-prod">
                    <img src="{% static "img/Kit5peças+Bandeija.jpg" %}" alt="">
                    <div class="mid-prod mid-tam">
                        <div>
                            <label class="cp" style="font-size: 1.50rem;" for="">{{i.nome}}</label>
                        </div>
                        <div class="mt-1 mb-1" style="color: #a5a5a5;">
                            <div class="">
                                <label>Validade:</label> <label>{{i.validade}}</label>
                            </div>
                            <div class="">
                                <label>Estoque:</label> <label>{{i.estoque}}</label>
                            </div>
                        </div>
                        <div>
                            <p>
                               {{i.descricao}}
                            </p>
                        </div>
                    </div>
                    <div class="mid-prod" style="color: #a5a5a5;">
                        <div class="">
                            <label>Desconto: </label> <label>10%</label>
                        </div>
                        <div class="">
                            <label>De:</label> <label>R$94,00</label>
                        </div>
                        <div class="cp">
                            <label>Por:</label> <label style="font-size: 2rem;">R$84,60</label>
                        </div>
                    </div>
                    <div class="centro mt-1 mb-1">
                        <a href="#" class="buttonC mt-1 mb-1" style="background-color: #5F1BE3;">Editar</a>
    
                        <a href="#" class="buttonC mt-1 mb-1" style="background-color: #5F1BE3;">Excluir</a>
                    </div>
                </div>
            </div>
        {% endfor %}   

        </section>
        <!-- fim do Produtos -->

    </main>
    <!-- fim do main/corpo -->

    <!-- inicio rodapé -->
    <footer>
        <div class="container">

            <nav class="mb-1">
                <a href="#"><i class="mr-1 bi bi-tiktok"></i>Lorem Ipsum</a>
                <a href="#"><i class="mr-1 bi bi-twitter-x"></i>Lorem Ipsum</a>
                <a href="#"><i class="mr-1 bi bi-instagram"></i>Lorem Ipsum</a>
                <a href="#"><i class="mr-1 bi bi-envelope"></i>Lorem Ipsum</a>
                <a href="#"><i class="mr-1 bi bi-telephone"></i>Lorem Ipsum</a>
                <a href="#"><i class="mr-1 bi bi-linkedin"></i>Lorem Ipsum</a>
            </nav>
        </div>
    </footer>
    <!-- inicio rodapé -->

    <!-- script js bootstrap 5.3.3 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        // Pega o modal
        var modal = document.getElementById("myModal");

        // Pega o botão que abre o modal
        var btn = document.getElementById("openModalBtn");

        // Pega o elemento <span> que fecha o modal
        var span = document.getElementsByClassName("close")[0];

        // Quando o usuário clicar no botão, abre o modal
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // Quando o usuário clicar no <span> (x), o modal fecha
        span.onclick = function () {
            modal.style.display = "none";
        }

        // Quando o usuário clicar fora do modal, ele também fecha
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
</body>

</html>